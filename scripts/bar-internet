#!/bin/sh

# Show wifi ðŸ“¶ and percent strength or ðŸ“¡ if none.
# Show ðŸŒ if connected to ethernet or âŽ if none.

case $BUTTON in
	3) setsid -f "$TERMINAL" -e nmtui ; pkill -RTMIN+4 hydrablocks ;;
esac

icon=" ï„ª"

case "$(cat /sys/class/net/e*/operstate 2>/dev/null)" in
	up) icon="$(sed "s/down/ ^c#f7768e^ï„ª/; s/up/ ^c#9ece6a^î‡—/" /sys/class/net/e*/operstate 2>/dev/null)" ;;
esac

case "$(cat /sys/class/net/w*/operstate 2>/dev/null)" in
	up) icon="$(awk '/^\s*w/ { print " ^c#9ece6a^ï‡« ", int($3 * 100 / 70) "%" }' /proc/net/wireless)" ;;
esac

echo "$icon"
